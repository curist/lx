# anf ast snapshots

## nested_blocks
source: { let a = { let b = 1; b }; a }
ast:
Block
  expressions:
    Block
      expressions:
        Let name=$anf.0
          init:
            Block
              expressions:
                Let name=b
                  init:
                    Number value=1
                Identifier name=b
        Let name=a
          init:
            Identifier name=$anf.0
        Identifier name=a

## block_in_expr
source: do_something_to_some_var() + { let x = 2; x * that_some_var }
ast:
Block
  expressions:
    Let name=$anf.0
      init:
        Call
          callee:
            Identifier name=do_something_to_some_var
          args:
            (empty)
    Let name=$anf.1
      init:
        Block
          expressions:
            Let name=x
              init:
                Number value=2
            Binary op=*
              left:
                Identifier name=x
              right:
                Identifier name=that_some_var
    Binary op=+
      left:
        Identifier name=$anf.0
      right:
        Identifier name=$anf.1

## block_with_locals
source: { let x = 1; let y = 2; x + y }
ast:
Block
  expressions:
    Block
      expressions:
        Let name=x
          init:
            Number value=1
        Let name=y
          init:
            Number value=2
        Binary op=+
          left:
            Identifier name=x
          right:
            Identifier name=y

## mix_and_match
source: let a = foo({ let x = 1; x }, bar())
ast:
Block
  expressions:
    Let name=$anf.2
      init:
        Block
          expressions:
            Let name=$anf.0
              init:
                Block
                  expressions:
                    Let name=x
                      init:
                        Number value=1
                    Identifier name=x
            Let name=$anf.1
              init:
                Call
                  callee:
                    Identifier name=bar
                  args:
                    (empty)
            Call
              callee:
                Identifier name=foo
              args:
                Identifier name=$anf.0
                Identifier name=$anf.1
    Let name=a
      init:
        Identifier name=$anf.2
